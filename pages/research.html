<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI Research</title>
  <link rel="icon" type="image/png" href="../icons/icon-48.png">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght@300;400;500;600;700" rel="stylesheet">
  <link rel="stylesheet" href="../styles/variables.css">
  <link rel="stylesheet" href="../styles/research.css">
</head>
<body>
  <div class="container">

    <!-- Main Content -->
    <main class="research-main">

      <!-- Loading State with Skeleton Cards -->
      <div class="loading-state" id="loadingState">

        <!-- Skeleton Hero Section -->
        <section class="hero-section skeleton-section">
          <div class="hero-image-wrapper">
            <div class="skeleton-box" style="width: 100%; height: 100%; border-radius: var(--radius-md);"></div>
          </div>
          <div class="hero-content">
            <div class="hero-meta">
              <div class="skeleton-line" style="width: 150px; height: 14px;"></div>
              <div class="skeleton-line" style="width: 180px; height: 14px;"></div>
            </div>
            <div class="hero-actions">
              <div class="skeleton-button" style="width: 140px;"></div>
              <div class="skeleton-button" style="width: 130px;"></div>
            </div>
          </div>
        </section>

        <!-- Skeleton Summary Section -->
        <section class="research-section skeleton-section">
          <div class="section-header">
            <div class="section-title-container">
              <div class="skeleton-icon"></div>
              <div class="skeleton-line" style="width: 80px; height: 18px;"></div>
            </div>
            <div class="section-actions">
              <div class="skeleton-button" style="width: 60px; height: 28px;"></div>
              <div class="skeleton-button" style="width: 60px; height: 28px;"></div>
            </div>
          </div>
          <div class="section-content">
            <div class="skeleton-line skeleton-line-full" style="height: 14px;"></div>
            <div class="skeleton-line skeleton-line-full" style="height: 14px;"></div>
            <div class="skeleton-line skeleton-line-full" style="height: 14px;"></div>
            <div class="skeleton-line" style="width: 85%; height: 14px;"></div>
          </div>
        </section>

        <!-- Skeleton Key Findings Section -->
        <section class="research-section skeleton-section">
          <div class="section-header">
            <div class="section-title-container">
              <div class="skeleton-icon"></div>
              <div class="skeleton-line" style="width: 100px; height: 18px;"></div>
            </div>
            <div class="section-actions">
              <div class="skeleton-button" style="width: 75px; height: 28px;"></div>
              <div class="skeleton-button" style="width: 70px; height: 28px;"></div>
            </div>
          </div>
          <div class="section-content">
            <div class="findings-grid">
              <!-- Finding Card 1 -->
              <div class="finding-card skeleton-card">
                <div class="finding-card-header">
                  <div class="skeleton-line" style="width: 75%; height: 16px;"></div>
                  <div class="skeleton-icon" style="width: 20px; height: 20px;"></div>
                </div>
                <div class="finding-card-content">
                  <div class="skeleton-line skeleton-line-full" style="height: 12px; margin-top: 8px;"></div>
                  <div class="skeleton-line skeleton-line-full" style="height: 12px;"></div>
                </div>
              </div>
              <!-- Finding Card 2 -->
              <div class="finding-card skeleton-card">
                <div class="finding-card-header">
                  <div class="skeleton-line" style="width: 70%; height: 16px;"></div>
                  <div class="skeleton-icon" style="width: 20px; height: 20px;"></div>
                </div>
                <div class="finding-card-content">
                  <div class="skeleton-line skeleton-line-full" style="height: 12px; margin-top: 8px;"></div>
                  <div class="skeleton-line skeleton-line-full" style="height: 12px;"></div>
                </div>
              </div>
              <!-- Finding Card 3 -->
              <div class="finding-card skeleton-card">
                <div class="finding-card-header">
                  <div class="skeleton-line" style="width: 80%; height: 16px;"></div>
                  <div class="skeleton-icon" style="width: 20px; height: 20px;"></div>
                </div>
                <div class="finding-card-content">
                  <div class="skeleton-line skeleton-line-full" style="height: 12px; margin-top: 8px;"></div>
                  <div class="skeleton-line skeleton-line-full" style="height: 12px;"></div>
                </div>
              </div>
              <!-- Finding Card 4 -->
              <div class="finding-card skeleton-card">
                <div class="finding-card-header">
                  <div class="skeleton-line" style="width: 72%; height: 16px;"></div>
                  <div class="skeleton-icon" style="width: 20px; height: 20px;"></div>
                </div>
                <div class="finding-card-content">
                  <div class="skeleton-line skeleton-line-full" style="height: 12px; margin-top: 8px;"></div>
                  <div class="skeleton-line skeleton-line-full" style="height: 12px;"></div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- Skeleton FAQ Section -->
        <section class="research-section skeleton-section">
          <div class="section-header">
            <div class="section-title-container">
              <div class="skeleton-icon"></div>
              <div class="skeleton-line" style="width: 120px; height: 18px;"></div>
            </div>
            <div class="section-actions">
              <div class="skeleton-button" style="width: 85px; height: 28px;"></div>
              <div class="skeleton-button" style="width: 75px; height: 28px;"></div>
            </div>
          </div>
          <div class="section-content">
            <div class="faq-grid">
              <!-- FAQ Card 1 -->
              <div class="faq-card skeleton-card">
                <div class="faq-card-header">
                  <div class="skeleton-line" style="width: 80%; height: 14px;"></div>
                  <div class="skeleton-icon" style="width: 16px; height: 16px;"></div>
                </div>
              </div>
              <!-- FAQ Card 2 -->
              <div class="faq-card skeleton-card">
                <div class="faq-card-header">
                  <div class="skeleton-line" style="width: 75%; height: 14px;"></div>
                  <div class="skeleton-icon" style="width: 16px; height: 16px;"></div>
                </div>
              </div>
            </div>
          </div>
        </section>

      </div>

      <!-- Results Container -->
      <div class="results-container hidden" id="resultsContainer">

        <!-- Hero Section -->
        <section class="hero-section" id="heroSection">
          <div class="hero-image-wrapper">
            <img id="heroImage" src="" alt="Website Content" class="hero-image">
            <div class="hero-overlay">
              <h2 id="heroTitle" class="hero-title"></h2>
            </div>
          </div>
          <div class="hero-content">
            <div class="hero-meta" id="heroMeta">
              <!-- Meta items will be populated by JS -->
            </div>
            <div class="hero-actions">
              <button class="btn btn-primary">
                <i class="fas fa-download"></i>
                <span>Save Research</span>
              </button>
              <button class="btn btn-secondary">
                <i class="fas fa-share-alt"></i>
                <span>Share Results</span>
              </button>
            </div>
          </div>
        </section>

        <!-- Summary Section -->
        <section class="research-section summary-section" id="summarySection">
          <div class="section-header">
            <div class="section-title-container">
              <i class="fas fa-file-alt section-icon"></i>
              <h3 class="section-title">Summary</h3>
            </div>
            <div class="section-actions">
              <button class="action-btn" id="saveSummaryBtn">
                <i class="fas fa-bookmark"></i>
                <span>Save</span>
              </button>
              <button class="action-btn" id="copySummaryBtn">
                <i class="fas fa-copy"></i>
                <span>Copy</span>
              </button>
            </div>
          </div>
          <div class="section-content">
            <p id="summaryText" class="summary-text"></p>
          </div>
        </section>

        <!-- Key Findings Section -->
        <section class="research-section findings-section" id="findingsSection">
          <div class="section-header">
            <div class="section-title-container">
              <i class="fas fa-check-circle section-icon"></i>
              <h3 class="section-title">Key Findings</h3>
            </div>
            <div class="section-actions">
              <button class="action-btn" id="saveFindingsBtn">
                <i class="fas fa-bookmark"></i>
                <span>Save All</span>
              </button>
              <button class="action-btn" id="expandFindingsBtn">
                <i class="fas fa-expand"></i>
                <span>Expand</span>
              </button>
            </div>
          </div>
          <div class="section-content">
            <div class="findings-grid" id="findingsGrid">
              <!-- Findings will be populated by JS -->
            </div>
          </div>
        </section>

        <!-- FAQ Section -->
        <section class="research-section faq-section" id="faqSection">
          <div class="section-header">
            <div class="section-title-container">
              <i class="fas fa-question-circle section-icon"></i>
              <h3 class="section-title">Quick Answers</h3>
            </div>
            <div class="section-actions">
              <button class="action-btn" id="expandAllFaqBtn">
                <i class="fas fa-expand-alt"></i>
                <span>Expand All</span>
              </button>
              <button class="action-btn" id="saveFaqBtn">
                <i class="fas fa-bookmark"></i>
                <span>Save All</span>
              </button>
            </div>
          </div>
          <div class="section-content">
            <div class="faq-grid" id="faqGrid">
              <!-- FAQ items will be populated by JS -->
            </div>
          </div>
        </section>

        <!-- Visual Content Section -->
        <section class="research-section visual-section hidden" id="visualSection">
          <div class="section-header">
            <div class="section-title-container">
              <i class="fas fa-images section-icon"></i>
              <h3 class="section-title">Visual Content</h3>
            </div>
            <div class="section-actions">
              <button class="action-btn" id="saveVisualBtn">
                <i class="fas fa-bookmark"></i>
                <span>Save All</span>
              </button>
            </div>
          </div>
          <div class="section-content">
            <div id="visualGrid" class="visual-grid">
              <!-- Visual content will be populated by JS -->
            </div>
          </div>
        </section>

        <!-- Structured Data Section -->
        <section class="research-section structured-section hidden" id="structuredSection">
          <div class="section-header">
            <div class="section-title-container">
              <i class="fas fa-table section-icon"></i>
              <h3 class="section-title">Structured Data</h3>
            </div>
            <div class="section-actions">
              <button class="action-btn" id="saveStructuredBtn">
                <i class="fas fa-bookmark"></i>
                <span>Save All</span>
              </button>
            </div>
          </div>
          <div class="section-content">

            <!-- Tables Container -->
            <div id="tablesContainer" class="structured-container hidden">
              <h4 class="structured-subtitle">
                <i class="fas fa-table"></i>
                Tables
              </h4>
              <div id="tablesGrid" class="structured-grid">
                <!-- Tables will be populated by JS -->
              </div>
            </div>

            <!-- Lists Container -->
            <div id="listsContainer" class="structured-container hidden">
              <h4 class="structured-subtitle">
                <i class="fas fa-list"></i>
                Lists
              </h4>
              <div id="listsGrid" class="structured-grid">
                <!-- Lists will be populated by JS -->
              </div>
            </div>

          </div>
        </section>

        <!-- Additional Research Results -->
        <div id="additionalResults" class="additional-results">
          <!-- Dynamically added sections -->
        </div>

      </div>

      <!-- Error State -->
      <div class="error-state hidden" id="errorState">
        <div class="error-container">
          <i class="fas fa-exclamation-circle error-icon"></i>
          <h3 class="error-title">Unable to Research</h3>
          <p class="error-message" id="errorMessage">Something went wrong. Please try again.</p>
          <button class="retry-btn" id="retryBtn">Try Again</button>
        </div>
      </div>

    </main>

    <!-- Dig Deeper Section -->
    <div class="dig-deeper-container">
      <div class="input-group">
        <input
          type="text"
          id="moreResearchInput"
          class="research-input"
          placeholder="What else do you want to know about this page?"
        />
        <button class="research-submit-btn" id="submitResearchBtn">
          <i class="fas fa-search"></i>
          <span>Research</span>
        </button>
      </div>
    </div>

  </div>

  <!-- jsPDF Library (local) -->
  <script src="../scripts/jspdf.umd.min.js"></script>

  <script src="../scripts/research.js"></script>
</body>
</html>
